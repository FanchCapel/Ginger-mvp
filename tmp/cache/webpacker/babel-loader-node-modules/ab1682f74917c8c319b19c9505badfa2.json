{"ast":null,"code":"export var selectorEvents = function selectorEvents() {\n  var activities = document.querySelectorAll('.act');\n  activities.forEach(function (activity) {\n    activity.addEventListener('change', function (e) {\n      return priceUpdate(e);\n    });\n  });\n};\nexport var priceUpdate = function priceUpdate(e) {\n  var activity_ids = [];\n  document.querySelectorAll('.act').forEach(function (activity) {\n    if (activity.value !== \"\") {\n      activity_ids.push(activity.value);\n    }\n  });\n  fetch('/activities/calculate_experience', {\n    method: \"POST\",\n    headers: {\n      'X-CSRF-Token': document.querySelector(\"input[name='authenticity_token']\").value,\n      'Content-type': \"application/json\"\n    },\n    body: JSON.stringify({\n      activity_ids: activity_ids\n    })\n  }).then(function (response) {\n    return response.json();\n  }).then(function (data) {\n    document.querySelector('#prix').innerHTML = data[\"amount\"];\n    document.querySelector('#duration').innerText = \"\".concat(Math.floor(data[\"duration\"] / 60), \" h \").concat(data[\"duration\"] % 60, \" min\");\n  });\n};\nselectorEvents();","map":{"version":3,"sources":["/Users/francoiscapel/code/ginger/Ginger/app/javascript/components/selector_events.js"],"names":["selectorEvents","activities","document","querySelectorAll","forEach","activity","addEventListener","e","priceUpdate","activity_ids","value","push","fetch","method","headers","querySelector","body","JSON","stringify","then","response","json","data","innerHTML","innerText","Math","floor"],"mappings":"AAAA,OAAO,IAAMA,cAAc,GAAG,SAAjBA,cAAiB,GAAM;AAClC,MAAMC,UAAU,GAAGC,QAAQ,CAACC,gBAAT,CAA0B,MAA1B,CAAnB;AACAF,EAAAA,UAAU,CAACG,OAAX,CAAmB,UAACC,QAAD,EAAc;AAC/BA,IAAAA,QAAQ,CAACC,gBAAT,CAA0B,QAA1B,EAAoC,UAAAC,CAAC;AAAA,aAAIC,WAAW,CAACD,CAAD,CAAf;AAAA,KAArC;AACD,GAFD;AAGD,CALM;AAOP,OAAO,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACD,CAAD,EAAO;AAChC,MAAME,YAAY,GAAG,EAArB;AACAP,EAAAA,QAAQ,CAACC,gBAAT,CAA0B,MAA1B,EAAkCC,OAAlC,CAA0C,UAACC,QAAD,EAAc;AACtD,QAAIA,QAAQ,CAACK,KAAT,KAAmB,EAAvB,EAA2B;AACzBD,MAAAA,YAAY,CAACE,IAAb,CAAkBN,QAAQ,CAACK,KAA3B;AACD;AACF,GAJD;AAKAE,EAAAA,KAAK,CAAC,kCAAD,EAAqC;AACxCC,IAAAA,MAAM,EAAE,MADgC;AAExCC,IAAAA,OAAO,EAAE;AAAE,sBAAgBZ,QAAQ,CAACa,aAAT,CAAuB,kCAAvB,EAA2DL,KAA7E;AAAoF,sBAAgB;AAApG,KAF+B;AAGxCM,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAET,MAAAA,YAAY,EAAEA;AAAhB,KAAf;AAHkC,GAArC,CAAL,CAKCU,IALD,CAKM,UAAAC,QAAQ;AAAA,WAAIA,QAAQ,CAACC,IAAT,EAAJ;AAAA,GALd,EAMCF,IAND,CAMM,UAACG,IAAD,EAAU;AACdpB,IAAAA,QAAQ,CAACa,aAAT,CAAuB,OAAvB,EAAgCQ,SAAhC,GAA4CD,IAAI,CAAC,QAAD,CAAhD;AACApB,IAAAA,QAAQ,CAACa,aAAT,CAAuB,WAAvB,EAAoCS,SAApC,aAAmDC,IAAI,CAACC,KAAL,CAAWJ,IAAI,CAAC,UAAD,CAAJ,GAAmB,EAA9B,CAAnD,gBAA0FA,IAAI,CAAC,UAAD,CAAJ,GAAmB,EAA7G;AACD,GATD;AAUD,CAjBM;AAmBPtB,cAAc","sourcesContent":["export const selectorEvents = () => {\n  const activities = document.querySelectorAll('.act');\n  activities.forEach((activity) => {\n    activity.addEventListener('change', e => priceUpdate(e));\n  });\n}\n\nexport const priceUpdate = (e) => {\n  const activity_ids = [];\n  document.querySelectorAll('.act').forEach((activity) => {\n    if (activity.value !== \"\") {\n      activity_ids.push(activity.value);\n    }\n  });\n  fetch('/activities/calculate_experience', {\n    method: \"POST\",\n    headers: { 'X-CSRF-Token': document.querySelector(\"input[name='authenticity_token']\").value, 'Content-type': \"application/json\" },\n    body: JSON.stringify({ activity_ids: activity_ids })\n  })\n  .then(response => response.json())\n  .then((data) => {\n    document.querySelector('#prix').innerHTML = data[\"amount\"]\n    document.querySelector('#duration').innerText = `${Math.floor(data[\"duration\"] / 60)} h ${data[\"duration\"] % 60} min`\n  });\n}\n\nselectorEvents();\n"]},"metadata":{},"sourceType":"module"}