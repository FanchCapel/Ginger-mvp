{"ast":null,"code":"export var selectorEvents = function selectorEvents() {\n  var activities = document.querySelectorAll('.act');\n  activities.forEach(function (activity) {\n    activity.addEventListener('change', function (e) {\n      return priceUpdate(e);\n    });\n  });\n};\nexport var priceUpdate = function priceUpdate(e) {\n  var prix = document.querySelector('#prix');\n  var activities = document.querySelectorAll('.act');\n  var activity_ids = [];\n  activities.forEach(function (activity) {\n    if (activity.value !== \"\") {\n      activity_ids.push(activity.value);\n    }\n  });\n  console.log(activity_ids);\n  fetch(\"/activities/calculate_price\", {\n    method: \"POST\",\n    headers: {\n      'X-CSRF-Token': document.querySelector(\"input[name='authenticity_token']\").value,\n      'Content-type': \"application/json\"\n    },\n    body: JSON.stringify({\n      activity_ids: activity_ids\n    })\n  }).then(function (response) {\n    return response.json();\n  }).then(function (data) {\n    prix.innerHTML = data[\"amount\"];\n  });\n};\nselectorEvents();","map":{"version":3,"sources":["/Users/francoiscapel/code/ginger/Ginger/app/javascript/components/selector_events.js"],"names":["selectorEvents","activities","document","querySelectorAll","forEach","activity","addEventListener","e","priceUpdate","prix","querySelector","activity_ids","value","push","console","log","fetch","method","headers","body","JSON","stringify","then","response","json","data","innerHTML"],"mappings":"AAAA,OAAO,IAAMA,cAAc,GAAG,SAAjBA,cAAiB,GAAM;AAClC,MAAMC,UAAU,GAAGC,QAAQ,CAACC,gBAAT,CAA0B,MAA1B,CAAnB;AACAF,EAAAA,UAAU,CAACG,OAAX,CAAmB,UAACC,QAAD,EAAc;AAC/BA,IAAAA,QAAQ,CAACC,gBAAT,CAA0B,QAA1B,EAAoC,UAAAC,CAAC;AAAA,aAAIC,WAAW,CAACD,CAAD,CAAf;AAAA,KAArC;AACD,GAFD;AAGD,CALM;AAOP,OAAO,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACD,CAAD,EAAO;AAChC,MAAME,IAAI,GAAGP,QAAQ,CAACQ,aAAT,CAAuB,OAAvB,CAAb;AACA,MAAMT,UAAU,GAAGC,QAAQ,CAACC,gBAAT,CAA0B,MAA1B,CAAnB;AACA,MAAMQ,YAAY,GAAG,EAArB;AACAV,EAAAA,UAAU,CAACG,OAAX,CAAmB,UAACC,QAAD,EAAc;AAC/B,QAAIA,QAAQ,CAACO,KAAT,KAAmB,EAAvB,EAA2B;AACzBD,MAAAA,YAAY,CAACE,IAAb,CAAkBR,QAAQ,CAACO,KAA3B;AACD;AACF,GAJD;AAKAE,EAAAA,OAAO,CAACC,GAAR,CAAYJ,YAAZ;AACAK,EAAAA,KAAK,gCAAgC;AACnCC,IAAAA,MAAM,EAAE,MAD2B;AAEnCC,IAAAA,OAAO,EAAE;AAAE,sBAAgBhB,QAAQ,CAACQ,aAAT,CAAuB,kCAAvB,EAA2DE,KAA7E;AAAoF,sBAAgB;AAApG,KAF0B;AAGnCO,IAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAEV,MAAAA,YAAY,EAAEA;AAAhB,KAAf;AAH6B,GAAhC,CAAL,CAKCW,IALD,CAKM,UAAAC,QAAQ;AAAA,WAAIA,QAAQ,CAACC,IAAT,EAAJ;AAAA,GALd,EAMCF,IAND,CAMM,UAACG,IAAD,EAAU;AACdhB,IAAAA,IAAI,CAACiB,SAAL,GAAiBD,IAAI,CAAC,QAAD,CAArB;AACD,GARD;AASD,CAnBM;AAqBPzB,cAAc","sourcesContent":["export const selectorEvents = () => {\n  const activities = document.querySelectorAll('.act');\n  activities.forEach((activity) => {\n    activity.addEventListener('change', e => priceUpdate(e));\n  });\n}\n\nexport const priceUpdate = (e) => {\n  const prix = document.querySelector('#prix');\n  const activities = document.querySelectorAll('.act');\n  const activity_ids = [];\n  activities.forEach((activity) => {\n    if (activity.value !== \"\") {\n      activity_ids.push(activity.value);\n    }\n  });\n  console.log(activity_ids);\n  fetch(`/activities/calculate_price`, {\n    method: \"POST\",\n    headers: { 'X-CSRF-Token': document.querySelector(\"input[name='authenticity_token']\").value, 'Content-type': \"application/json\" },\n    body: JSON.stringify({ activity_ids: activity_ids })\n  })\n  .then(response => response.json())\n  .then((data) => {\n    prix.innerHTML = data[\"amount\"]\n  });\n}\n\nselectorEvents();\n"]},"metadata":{},"sourceType":"module"}